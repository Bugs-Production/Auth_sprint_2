# Сервис фильмов

## Описание
Этот сервис состоит из нескольких микросервисов:
- сервис, предоставляющий апи для работы с контентом (фильмы, персоны, жанры)
- сервис, предоставляющий админку для работы с контентом
- сервис, отвечающий за аутентификацию и авторизацию пользователей

## Стек технологий

- FastAPI: Фреймворк для создания API.
- Django: Фреймворк для веб-приложений.
- SQLAlchemy: ORM для работы с базой данных.
- Alembic: Инструмент для миграций базы данных.
- PostgreSQL: СУБД для хранения данных.
- Elasticsearch: Поисковая система.
- Redis: Кэширование данных.
- Docker: Деплой и запуск проекта.

## Запуск проекта

Клонировать репозиторий, в папках микросервисов (auth_service, django_admin, movies_service) необходимо создать файл **.env** и заполнить переменные окружения 
по примеру вложенного в папку файла **.env.example**
```
cp .env.example .env
```

Запустить docker-compose:
```
make build
make start
```

Для остановки контейнеров 
```
make stop
```

Для подготовки миграций 
```
make makemigrations_auth
```

Для применения миграций 
```
make migrate_auth
```

Для создания админа 
```
make create_admin
```

Для загрузки тестовых данных в бд с контентом
```
make load_movies
```


## Документация
Swagger документация для сервиса авторизации `/auth/api/openapi`

Swagger документация для сервиса контента `/movies/api/openapi`

